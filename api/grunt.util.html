<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>grunt.util - Grunt: The JavaScript Task Runner</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700"><link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon"><link href="/rss" rel="alternate" title="Grunt Blog Feed" type="application/atom+xml"></head><body class="page-api page-secondary"><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a class="brand" href="/"><span class="logo"></span></a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/getting-started"><i class="icon-arrow-right"></i><span>Getting Started</span></a></li><li><a href="/configuring-tasks"><i class="icon-cog"></i><span>Configuring Tasks</span></a></li><li><a href="/plugins"><i class="icon-power-cord"></i><span>Plugins</span></a></li><li><a href="/getting-started"><i class="icon-file-text"></i><span>Documentation</span></a></li></ul><form class="navbar-search pull-right"><input class="search-query" type="text" placeholder="Search"></form></div><!--.nav-collapse--></div></div></div><div class="content"><div class="container grunt.util"><div class="row-fluid"><div class="span9 page"><div class="hero-unit"><h1>grunt.util</h1><p>Miscellaneous utilities for your Gruntfile and tasks.</p>
<h3><a class="anchor" href="#grunt.util.kindof" id="grunt.util.kindof"></a>grunt.util.kindOf</h3>
<p>Return the &quot;kind&quot; of a value. Like <code>typeof</code> but returns the internal <code>[Class](Class/)</code> value. Possible results are <code>&quot;number&quot;</code>, <code>&quot;string&quot;</code>, <code>&quot;boolean&quot;</code>, <code>&quot;function&quot;</code>, <code>&quot;regexp&quot;</code>, <code>&quot;array&quot;</code>, <code>&quot;date&quot;</code>, <code>&quot;error&quot;</code>, <code>&quot;null&quot;</code>, <code>&quot;undefined&quot;</code> and the catch-all <code>&quot;object&quot;</code>.</p>
<pre><code class="lang-js">grunt.util.kindOf(value)</code></pre>
<h3><a class="anchor" href="#grunt.util.error" id="grunt.util.error"></a>grunt.util.error</h3>
<p>Return a new Error instance (that can be thrown) with the appropriate message. If an Error object is specified instead of <code>message</code> that object will be returned.
Also, if an Error object is specified for <code>origError</code> and Grunt was run with the <code>--stack</code> option, the original Error stack will be dumped.</p>
<pre><code class="lang-js">grunt.util.error(message [, origError])</code></pre>
<h3><a class="anchor" href="#grunt.util.linefeed" id="grunt.util.linefeed"></a>grunt.util.linefeed</h3>
<p>The linefeed character, normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p>
<h3><a class="anchor" href="#grunt.util.normalizelf" id="grunt.util.normalizelf"></a>grunt.util.normalizelf</h3>
<p>Given a string, return a new string with all the linefeeds normalized for the current operating system. (<code>\r\n</code> on Windows, <code>\n</code> otherwise)</p>
<pre><code class="lang-js">grunt.util.normalizelf(string)</code></pre>
<h3><a class="anchor" href="#grunt.util.recurse" id="grunt.util.recurse"></a>grunt.util.recurse</h3>
<p>Recurse through nested objects and arrays, executing <code>callbackFunction</code> for each non-object value. If <code>continueFunction</code> returns <code>false</code>, a given object or value will be skipped.</p>
<pre><code class="lang-js">grunt.util.recurse(object, callbackFunction, continueFunction)</code></pre>
<h3><a class="anchor" href="#grunt.util.repeat" id="grunt.util.repeat"></a>grunt.util.repeat</h3>
<p>Return string <code>str</code> repeated <code>n</code> times.</p>
<pre><code class="lang-js">grunt.util.repeat(n, str)</code></pre>
<h3><a class="anchor" href="#grunt.util.pluralize" id="grunt.util.pluralize"></a>grunt.util.pluralize</h3>
<p>Given <code>str</code> of <code>&quot;a/b&quot;</code>, If <code>n</code> is <code>1</code>, return <code>&quot;a&quot;</code> otherwise <code>&quot;b&quot;</code>. You can specify a custom separator if &#39;/&#39; doesn&#39;t work for you.</p>
<pre><code class="lang-js">grunt.util.pluralize(n, str, separator)</code></pre>
<h3><a class="anchor" href="#grunt.util.spawn" id="grunt.util.spawn"></a>grunt.util.spawn</h3>
<p>Spawn a child process, keeping track of its stdout, stderr and exit code. The method returns a reference to the spawned child. When the child exits, the <code>doneFunction</code> is called.</p>
<pre><code class="lang-js">grunt.util.spawn(options, doneFunction)</code></pre>
<p>The <code>options</code> object has these possible properties:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> options = {
  <span class="hljs-comment">// The command to execute. It should be in the system path.</span>
  cmd: commandToExecute,
  <span class="hljs-comment">// If specified, the same grunt bin that is currently running will be</span>
  <span class="hljs-comment">// spawned as the child command, instead of the "cmd" option. Defaults</span>
  <span class="hljs-comment">// to false.</span>
  grunt: boolean,
  <span class="hljs-comment">// An array of arguments to pass to the command.</span>
  args: arrayOfArguments,
  <span class="hljs-comment">// Additional options for the Node.js child_process spawn method.</span>
  opts: nodeSpawnOptions,
  <span class="hljs-comment">// If this value is set and an error occurs, it will be used as the value</span>
  <span class="hljs-comment">// and null will be passed as the error value.</span>
  fallback: fallbackValue
};</code></pre>
<p>The <code>doneFunction</code> accepts these arguments:</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doneFunction</span>(<span class="hljs-params">error, result, code</span>) </span>{
  <span class="hljs-comment">// If the exit code was non-zero and a fallback wasn't specified, an Error</span>
  <span class="hljs-comment">// object, otherwise null.</span>
  error
  <span class="hljs-comment">// The result object is an object with the properties .stdout, .stderr, and</span>
  <span class="hljs-comment">// .code (exit code).</span>
  result
  <span class="hljs-comment">// When result is coerced to a string, the value is stdout if the exit code</span>
  <span class="hljs-comment">// was zero, the fallback if the exit code was non-zero and a fallback was</span>
  <span class="hljs-comment">// specified, or stderr if the exit code was non-zero and a fallback was</span>
  <span class="hljs-comment">// not specified.</span>
  <span class="hljs-built_in">String</span>(result)
  <span class="hljs-comment">// The numeric exit code.</span>
  code
}</code></pre>
<h3><a class="anchor" href="#grunt.util.toarray" id="grunt.util.toarray"></a>grunt.util.toArray</h3>
<p>Given an array or array-like object, return an array. Great for converting <code>arguments</code> objects into arrays.</p>
<pre><code class="lang-js">grunt.util.toArray(arrayLikeObject)</code></pre>
<h3><a class="anchor" href="#grunt.util.callbackify" id="grunt.util.callbackify"></a>grunt.util.callbackify</h3>
<p>Normalizes both &quot;returns a value&quot; and &quot;passes result to a callback&quot; functions to always pass a result to the specified callback. If the original function returns a value, that value will now be passed to the callback, which is specified as the last argument, after all other predefined arguments. If the original function passed a value to a callback, it will continue to do so.</p>
<pre><code class="lang-js">grunt.util.callbackify(syncOrAsyncFunction)</code></pre>
<p>This example might better illustrate:</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add1</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add2</span>(<span class="hljs-params">a, b, callback</span>) </span>{
  callback(a + b);
}

<span class="hljs-keyword">var</span> fn1 = grunt.util.callbackify(add1);
<span class="hljs-keyword">var</span> fn2 = grunt.util.callbackify(add2);

fn1(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'1 plus 2 equals '</span> + result);
});
fn2(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'1 plus 2 equals '</span> + result);
});</code></pre>
<h2><a class="anchor" href="#internal-libraries" id="internal-libraries"></a>Internal libraries</h2>
<h3><a class="anchor" href="#grunt.util.namespace" id="grunt.util.namespace"></a>grunt.util.namespace</h3>
<p>An internal library for resolving deeply-nested properties in objects.</p>
<h3><a class="anchor" href="#grunt.util.task" id="grunt.util.task"></a>grunt.util.task</h3>
<p>An internal library for task running.</p>
<h2><a class="anchor" href="#external-libraries" id="external-libraries"></a>External libraries</h2>
<p><em>Deprecated</em></p>
<p><strong>All external libraries that are listed below are now deprecated.</strong></p>
<p>Please use <strong>npm</strong> to manage these external libraries in your project&#39;s dependencies.</p>
<p>For example if you want to use <a href="https://www.npmjs.org/package/lodash">Lo-Dash</a>, install it first: <code>npm install lodash</code>, then
use it in your <code>Gruntfile</code>: <code>var _ = require(&#39;lodash&#39;);</code>.</p>
<h4><a class="anchor" href="#grunt.util._" id="grunt.util._"></a>grunt.util._</h4>
<p><em>Deprecated</em></p>
<p><a href="http://lodash.com/">Lo-Dash</a> and <a href="https://github.com/epeli/underscore.string">Underscore.string</a></p>
<p><code>grunt.util._.str</code> is available for methods that conflict with existing Lo-Dash methods.</p>
<h4><a class="anchor" href="#grunt.util.async" id="grunt.util.async"></a>grunt.util.async</h4>
<p><em>Deprecated</em></p>
<p><a href="https://github.com/caolan/async">Async</a> - Async utilities for node and the browser.</p>
<h4><a class="anchor" href="#grunt.util.hooker" id="grunt.util.hooker"></a>grunt.util.hooker</h4>
<p><em>Deprecated</em></p>
<p><a href="https://github.com/cowboy/javascript-hooker">JavaScript Hooker</a> - Monkey-patch (hook) functions for debugging and stuff.</p>
<div class="end-link">Found an error in the documentation?
<a href='https://github.com/gruntjs/grunt-docs/issues'>File an issue</a>.</div></div></div><div class="span3"><div class="well sidebar-nav"><ul class="nav nav-list"><li class="nav-header"><i class="icon-cog"></i><span>API</span></li><li><a href="/api/grunt">grunt</a></li><li><a href="/api/grunt.config">grunt.config</a></li><li><a href="/api/grunt.event">grunt.event</a></li><li><a href="/api/grunt.fail">grunt.fail</a></li><li><a href="/api/grunt.file">grunt.file</a></li><li><a href="/api/grunt.log">grunt.log</a></li><li><a href="/api/grunt.option">grunt.option</a></li><li><a href="/api/grunt.task">grunt.task</a></li><li><a href="/api/grunt.template">grunt.template</a></li><li><a class="active" href="/api/grunt.util">grunt.util</a></li></ul><ul class="nav nav-list"><li class="nav-header"><span>Other</span></li><li><a href="/api/inside-tasks">Inside Tasks</a></li><li><a href="/api/exit-codes">Exit Codes</a></li></ul><div class="advertisements"><script>var m3_u = (location.protocol=='https:'?'https://revive.bocoup.com/www/delivery/ajs.php':'http://revive.bocoup.com/www/delivery/ajs.php');var m3_r = Math.floor(Math.random()*99999999999);if (!document.MAX_used) document.MAX_used = ',';document.write ("<scr"+"ipt type='text/javascript' src='"+m3_u);document.write ("?zoneid=5");document.write ('&amp;cb=' + m3_r);if (document.MAX_used != ',') document.write ("&amp;exclude=" + document.MAX_used);document.write (document.charset ? '&amp;charset='+document.charset : (document.characterSet ? '&amp;charset='+document.characterSet : ''));document.write ("&amp;loc=" + escape(window.location));if (document.referrer) document.write ("&amp;referer=" + escape(document.referrer));if (document.context) document.write ("&context=" + escape(document.context));if (document.mmm_fo) document.write ("&amp;mmm_fo=1");document.write ("'><\/scr"+"ipt>");</script><noscript><a href='http://revive.bocoup.com/www/delivery/ck.php?n=a656788f&amp;cb=INSERT_RANDOM_NUMBER_HERE' target='_blank'><img src='http://revive.bocoup.com/www/delivery/avw.php?zoneid=5&amp;cb=INSERT_RANDOM_NUMBER_HERE&amp;n=a656788f' alt='' /></a></noscript><span class="adsbybocoup">Ads by <a href="http://bocoup.com">Bocoup</a>.</span></div></div></div></div></div></div><footer class="grunt-footer"><div class="inner"><div class="container"><ul class="pull-right"><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-0.3-to-0.4">Migration Guides</a></li><li><a href="/contributing">Contributing</a></li><li><a href="/development-team">Development Team</a></li><li class="social"><a href="https://github.com/gruntjs/" title="Grunt on GitHub"><span class="icon-github"></span></a></li><li class="social"><a href="https://twitter.com/gruntjs/" title="Grunt on Twitter"><span class="icon-twitter"></span></a></li><li class="social"><a href="/rss" title="Grunt blog RSS feed"><span class="icon-rss"></span></a></li></ul></div></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-34623937-1', 'gruntjs.com');
ga('send', 'pageview');</script></body></html>